let mongoose,User;_29e‍.x([["getUserById",()=>getUserById],["default",()=>_29e‍.o]]);_29e‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_29e‍.w("../models/user",[["default",["User"],function(v){User=v}]]);


const { ObjectId } = mongoose.Types;

       const getUserById = async (ctx, next) => {
    const { id } = ctx.params
    
    if(!ObjectId.isValid(id)){
        ctx.status = 400;
        return;
    }
    
    try{
        const user = await User.findById(id);
        if(!user){
            ctx.status = 404;
            return;
        }
        ctx.state.user = user;
        return next();
    }catch(e){
        ctx.throw(500,e);
    }
}

_29e‍.d(getUserById);