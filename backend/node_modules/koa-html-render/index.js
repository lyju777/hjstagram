const fs = require("fs")
const path = require("path")
const root = require("root-path-plugin/index")

module.exports = function(html_path,options){
    var htmlpath = html_path && path.join(root,"/"+html_path) || path.join(root,"/static")
    return async function htmlRender(ctx,next){
        ctx.html = function(file_path){
            this.type = "text/html"
            this.body = fs.createReadStream(htmlpath +"/"+ file_path)
        }
        await next()
    }
}